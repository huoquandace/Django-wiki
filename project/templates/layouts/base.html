{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />  
  <title>T - {% block title %}{% endblock title %}</title>
  <link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}"/>
  <link rel="stylesheet" href="{% static 'css/main.css' %}"">
</head>
<body>
  <!-- Toastr -->
  <script>
    {% if messages %}
      document.addEventListener("DOMContentLoaded", function(event) {
        toastr.options = { "closeButton": true, "debug": false, "newestOnTop": true,
          "progressBar": false, "positionClass": "toast-top-right", "preventDuplicates": true,
          "onclick": null, "showDuration": "300", "hideDuration": "1000", "timeOut": "5000",
          "extendedTimeOut": "1000", "showEasing": "swing", "hideEasing": "linear",
          "showMethod": "fadeIn", "hideMethod": "fadeOut" };
        {% autoescape off %}
          {% for msg in messages %}
            toastr.{{ msg.level_tag }}("{{ msg }}");
          {% endfor %}
        {% endautoescape %}
      });
    {% endif %}
  </script>
  <!-- End Toastr -->

  <div class="container-fluid">
    <div class="header row">
      <div class="logo col-md-2">
        <a href=""><img src="{% static 'img/logo.jpg' %}" alt="logo"></a>
      </div>
      <div class="menubar col-md-8">
        <div class="menu">
          <a href="" class="menu-item">Home</a>
        </div>
      </div>
      <div class="col-md-2">
        <div>1</div>
      </div>
    </div>
    <div class="main row">
      <div class="sidebar col-2 open">
        <ul>
          <li onclick="openNav()" data-bs-toggle="collapse" href="#cl1" role="button" aria-expanded="false" aria-controls="cl1" ><i class="fa-regular fa-message"></i><span class="show">Push Notification</span></li>
          <div class="menu_sub_items collapse multi-collapse" id="cl1">
            <div class="sub_item"><a href="#">Create New</a></div>
            <div class="sub_item"><a href="#">Replacement Push List</a></div>
          </div>
          <li><i class="fa-regular fa-message"></i><span class="show">Push Notification</span></li>
        </ul>
        <div class="toggle_btn open" onclick="toggle()">
          <i class="fa-regular fa-square-caret-left show"></i>
          <i class="fa-regular fa-square-caret-right hide"></i>
          <span class="show">Close Button</span>
        </div>
      </div>
      
      <div class="content col-10">
        <div class="overlay" onclick="closeNav()"></div>
        {% block content %}{% endblock content %}
      </div>
    </div>
  </div>
  

  <!-- main js -->
  <script>
    // if (screen.width > 1199) nav_status = 1; else nav_status = 0;
    if (window.innerWidth > 1199) nav_status = 1; else nav_status = 0;
    if (nav_status == 0) closeNav();
    toggle = () => { if (nav_status == 1) closeNav(); else openNav(); }
    function closeNav() {
      nav_status = 0
      document.querySelectorAll(" \
        .toggle_btn > span, \
        .toggle_btn > .fa-square-caret-left, \
        .sidebar li > span, \
        .menu_sub_items \
      ").forEach(element => {
        element.classList.replace('show', 'hide');
      });
      document.querySelectorAll(" \
      .toggle_btn > .fa-square-caret-right, \
      .overlay \
      ").forEach(element => {
        element.classList.replace('hide', 'show');
      });
      document.querySelectorAll(" \
      .sidebar, \
      .toggle_btn \
      ").forEach(element => {
        element.classList.replace('open', 'close');
      });
      document.querySelector('.overlay').style.opacity = '0'
    }
    
    function openNav() {
      nav_status = 1
      document.querySelectorAll(" \
      .toggle_btn > .fa-square-caret-right \
      ").forEach(element => {
        element.classList.replace('show', 'hide');
      });
      document.querySelectorAll(" \
      .toggle_btn > span, \
      .toggle_btn > .fa-square-caret-left, \
      .sidebar li > span \
      ").forEach(element => {
        element.classList.replace('hide', 'show');
      });
      document.querySelectorAll(" \
      .sidebar, \
      .toggle_btn \
      ").forEach(element => {
        element.classList.replace('close', 'open');
      });
      document.querySelector('.overlay').style.opacity = '0.1'
    }
  </script>

  <!-- Lib Toastr -->
  <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
  <link rel="stylesheet" type="text/css" href="{% static 'css/toastr.css' %}" media="all">
  <script type="text/javascript" src="{% static 'js/toastr.min.js' %}"></script> 
  <!-- End Lib Toastr -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>